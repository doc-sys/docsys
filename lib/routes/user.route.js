"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _authenticate = _interopRequireWildcard(require("../lib/helpers/authenticate"));

var _user = require("../controller/user.controller");

var express = require('express');

var router = express.Router();
router.route('/')
/**
 * @api {get} /user/ Get All Users
 * @apiName UserNameAutoComplete
 * @apiGroup User
 * @apiDescription Gives back the full user list
 * @apiSuccess {Array} user List of user profiles
 * @apiError (500) {String} InternalError Something went wrong.
 */
.get([_user.getAllUser], function (req, res) {
  res.status(200).json({
    user: res.locals.user
  });
});
router.route('/:username')
/**
 * @api {get} /user/:username Get single user
 * @apiName userGetSingle
 * @apiGroup User
 * @apiDescription Returns a single user object without password
 * @apiParam {String} username
 * @apiSuccess {Object} user User profile
 * @apiError (401) {String} AuthentificationError Not allowed to access ressource
 */
.get([_authenticate["default"], _user.checkPropertyUsername, _user.findUser], function (req, res) {
  res.status(200).json({
    user: res.locals.user
  });
})
/**
 * @api {delete} /user/:username Delete user
 * @apiName userDeleteSingle
 * @apiGroup User
 * @apiDescription Deletes a single user
 * @apiParam {String} username
 * @apiSuccess {Object} user Username
 * @apiError (401) {String} AuthentificationError Not allowed to access ressource
 */
["delete"]([_authenticate["default"], _authenticate.requireAdmin, _user.checkPropertyUsername, _user.deleteUser], function (req, res) {
  res.status(200).json({
    user: res.locals.user
  });
})
/**
 * @api {post} /user/:username Update user
 * @apiName userUpdateSingle
 * @apiGroup User
 * @apiDescription Updates a single user. Changes every property that is set in the request body.
 * @apiParam {String} username
 * @apiSuccess {Object} user Updated user object
 * @apiError (401) {String} AuthentificationError Not allowed to access ressource
 */
.post([_authenticate["default"], _user.checkPropertyUsername, _user.updateUser], function (req, res) {
  res.status(200).json({
    user: res.locals.user
  });
});
router.route('/login')
/**
 * @api {post} /user/login User login
 * @apiName userLogin
 * @apiGroup User
 * @apiDescription Logs user in and returns the user and API token
 * @apiParam {String} username
 * @apiParam {String} password
 * @apiSuccess {Object} user User profile
 * @apiSuccess {String} token API token
 * @apiError (401) {String} LoginFailed
 */
.post([_user.checkPropertyUsername, _user.checkPropertyPassword, _user.authenticateUser], function (req, res) {
  res.status(200).json({
    user: res.locals.user,
    token: res.locals.token
  });
});
router.route('/signup')
/**
 * @api {post} /user/signup User signup
 * @apiName userSignup
 * @apiGroup User
 * @apiDescription Signs user up and logs in automatically
 * @apiParam {String} username Username
 * @apiParam {String} password Password according to policy
 * @apiParam {String} mail Valid email
 * @apiParam {String} displayName Full name
 * @apiSuccess {Object} user User profile
 * @apiSuccess {String} token API token
 * @apiError (500) {String} InternalError Something went wrong during signup. Most likely to be during validation.
 * @apiDeprecated Users should not be allowed to sign up by themselfes but rather be invited to use docSys
 */
.post([_user.checkPropertyUsername, _user.checkPropertyMail, _user.checkPropertyName, _user.checkPropertyPassword, _user.addUser, _user.authenticateUser], function (req, res) {
  res.status(200).json({
    user: res.locals.user,
    token: res.locals.token
  });
});
router.route('/unlock/:username')
/**
     * @api {post} /user/unlock/:username Unlock locked user
     * @apiName userUnlock
     * @apiGroup User
     * @apiDescription Unlocks user and sets login attempts to 0
     * @apiParam {String} username Username
     * @apiSuccess {Object} user User profile
     * @apiError (401) {String} AuthentificationError Not allowed to access ressource
     */
.post([_authenticate["default"], _authenticate.requireAdmin, _user.checkPropertyUsername, _user.unlockUser], function (req, res) {
  res.status(200).json({
    user: res.locals.user
  });
});
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yb3V0ZXMvdXNlci5yb3V0ZS50cyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInJvdXRlIiwiZ2V0IiwiZ2V0QWxsVXNlciIsInJlcSIsInJlcyIsInN0YXR1cyIsImpzb24iLCJ1c2VyIiwibG9jYWxzIiwiYXV0aGVudGljYXRlIiwiY2hlY2tQcm9wZXJ0eVVzZXJuYW1lIiwiZmluZFVzZXIiLCJyZXF1aXJlQWRtaW4iLCJkZWxldGVVc2VyIiwicG9zdCIsInVwZGF0ZVVzZXIiLCJjaGVja1Byb3BlcnR5UGFzc3dvcmQiLCJhdXRoZW50aWNhdGVVc2VyIiwidG9rZW4iLCJjaGVja1Byb3BlcnR5TWFpbCIsImNoZWNrUHJvcGVydHlOYW1lIiwiYWRkVXNlciIsInVubG9ja1VzZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBRUE7O0FBQ0E7O0FBSEEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFLQSxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFiO0FBRUFELE1BQU0sQ0FBQ0UsS0FBUCxDQUFhLEdBQWI7QUFDSTs7Ozs7Ozs7QUFESixDQVNLQyxHQVRMLENBU1MsQ0FBQ0MsZ0JBQUQsQ0FUVCxFQVN1QixVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUM3QkEsRUFBQUEsR0FBRyxDQUFDQyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsSUFBQUEsSUFBSSxFQUFFSCxHQUFHLENBQUNJLE1BQUosQ0FBV0Q7QUFBbkIsR0FBckI7QUFDSCxDQVhMO0FBY0FULE1BQU0sQ0FBQ0UsS0FBUCxDQUFhLFlBQWI7QUFDSTs7Ozs7Ozs7O0FBREosQ0FVS0MsR0FWTCxDQVVTLENBQUNRLHdCQUFELEVBQWVDLDJCQUFmLEVBQXNDQyxjQUF0QyxDQVZULEVBVTBELFVBQUNSLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQ2hFQSxFQUFBQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxJQUFBQSxJQUFJLEVBQUVILEdBQUcsQ0FBQ0ksTUFBSixDQUFXRDtBQUFuQixHQUFyQjtBQUNILENBWkw7QUFhSTs7Ozs7Ozs7O0FBYkosV0FzQlksQ0FBQ0Usd0JBQUQsRUFBZUcsMEJBQWYsRUFBNkJGLDJCQUE3QixFQUFvREcsZ0JBQXBELENBdEJaLEVBc0I2RSxVQUFDVixHQUFELEVBQU1DLEdBQU4sRUFBYztBQUNuRkEsRUFBQUEsR0FBRyxDQUFDQyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsSUFBQUEsSUFBSSxFQUFFSCxHQUFHLENBQUNJLE1BQUosQ0FBV0Q7QUFBbkIsR0FBckI7QUFDSCxDQXhCTDtBQXlCSTs7Ozs7Ozs7O0FBekJKLENBa0NLTyxJQWxDTCxDQWtDVSxDQUFDTCx3QkFBRCxFQUFlQywyQkFBZixFQUFzQ0ssZ0JBQXRDLENBbENWLEVBa0M2RCxVQUFDWixHQUFELEVBQU1DLEdBQU4sRUFBYztBQUNuRUEsRUFBQUEsR0FBRyxDQUFDQyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsSUFBQUEsSUFBSSxFQUFFSCxHQUFHLENBQUNJLE1BQUosQ0FBV0Q7QUFBbkIsR0FBckI7QUFDSCxDQXBDTDtBQXNDQVQsTUFBTSxDQUFDRSxLQUFQLENBQWEsUUFBYjtBQUNJOzs7Ozs7Ozs7OztBQURKLENBWUtjLElBWkwsQ0FZVSxDQUFDSiwyQkFBRCxFQUF3Qk0sMkJBQXhCLEVBQStDQyxzQkFBL0MsQ0FaVixFQVk0RSxVQUFDZCxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUNsRkEsRUFBQUEsR0FBRyxDQUFDQyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsSUFBQUEsSUFBSSxFQUFFSCxHQUFHLENBQUNJLE1BQUosQ0FBV0QsSUFBbkI7QUFBeUJXLElBQUFBLEtBQUssRUFBRWQsR0FBRyxDQUFDSSxNQUFKLENBQVdVO0FBQTNDLEdBQXJCO0FBQ0gsQ0FkTDtBQWdCQXBCLE1BQU0sQ0FBQ0UsS0FBUCxDQUFhLFNBQWI7QUFDSTs7Ozs7Ozs7Ozs7Ozs7QUFESixDQWVLYyxJQWZMLENBZVUsQ0FBQ0osMkJBQUQsRUFBd0JTLHVCQUF4QixFQUEyQ0MsdUJBQTNDLEVBQThESiwyQkFBOUQsRUFBcUZLLGFBQXJGLEVBQThGSixzQkFBOUYsQ0FmVixFQWUySCxVQUFDZCxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUNqSUEsRUFBQUEsR0FBRyxDQUFDQyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsSUFBQUEsSUFBSSxFQUFFSCxHQUFHLENBQUNJLE1BQUosQ0FBV0QsSUFBbkI7QUFBeUJXLElBQUFBLEtBQUssRUFBRWQsR0FBRyxDQUFDSSxNQUFKLENBQVdVO0FBQTNDLEdBQXJCO0FBQ0gsQ0FqQkw7QUFtQkFwQixNQUFNLENBQUNFLEtBQVAsQ0FBYSxtQkFBYjtBQUNJOzs7Ozs7Ozs7QUFESixDQVVLYyxJQVZMLENBVVUsQ0FBQ0wsd0JBQUQsRUFBZUcsMEJBQWYsRUFBNkJGLDJCQUE3QixFQUFvRFksZ0JBQXBELENBVlYsRUFVMkUsVUFBQ25CLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQ2pGQSxFQUFBQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxJQUFBQSxJQUFJLEVBQUVILEdBQUcsQ0FBQ0ksTUFBSixDQUFXRDtBQUFuQixHQUFyQjtBQUNILENBWkw7QUFjQWdCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjFCLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJylcclxuXHJcbmltcG9ydCBhdXRoZW50aWNhdGUsIHsgcmVxdWlyZUFkbWluIH0gZnJvbSAnLi4vbGliL2hlbHBlcnMvYXV0aGVudGljYXRlJ1xyXG5pbXBvcnQgeyBjaGVja1Byb3BlcnR5TWFpbCwgY2hlY2tQcm9wZXJ0eU5hbWUsIGNoZWNrUHJvcGVydHlQYXNzd29yZCwgY2hlY2tQcm9wZXJ0eVVzZXJuYW1lLCBhdXRoZW50aWNhdGVVc2VyLCBhZGRVc2VyLCBmaW5kVXNlciwgZ2V0QWxsVXNlciwgZGVsZXRlVXNlciwgdW5sb2NrVXNlciwgdXBkYXRlVXNlciB9IGZyb20gJy4uL2NvbnRyb2xsZXIvdXNlci5jb250cm9sbGVyJztcclxuXHJcbmxldCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXHJcblxyXG5yb3V0ZXIucm91dGUoJy8nKVxyXG4gICAgLyoqXHJcbiAgICAgKiBAYXBpIHtnZXR9IC91c2VyLyBHZXQgQWxsIFVzZXJzXHJcbiAgICAgKiBAYXBpTmFtZSBVc2VyTmFtZUF1dG9Db21wbGV0ZVxyXG4gICAgICogQGFwaUdyb3VwIFVzZXJcclxuICAgICAqIEBhcGlEZXNjcmlwdGlvbiBHaXZlcyBiYWNrIHRoZSBmdWxsIHVzZXIgbGlzdFxyXG4gICAgICogQGFwaVN1Y2Nlc3Mge0FycmF5fSB1c2VyIExpc3Qgb2YgdXNlciBwcm9maWxlc1xyXG4gICAgICogQGFwaUVycm9yICg1MDApIHtTdHJpbmd9IEludGVybmFsRXJyb3IgU29tZXRoaW5nIHdlbnQgd3JvbmcuXHJcbiAgICAgKi9cclxuICAgIC5nZXQoW2dldEFsbFVzZXJdLCAocmVxLCByZXMpID0+IHtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXI6IHJlcy5sb2NhbHMudXNlciB9KVxyXG4gICAgfSlcclxuXHJcblxyXG5yb3V0ZXIucm91dGUoJy86dXNlcm5hbWUnKVxyXG4gICAgLyoqXHJcbiAgICAgKiBAYXBpIHtnZXR9IC91c2VyLzp1c2VybmFtZSBHZXQgc2luZ2xlIHVzZXJcclxuICAgICAqIEBhcGlOYW1lIHVzZXJHZXRTaW5nbGVcclxuICAgICAqIEBhcGlHcm91cCBVc2VyXHJcbiAgICAgKiBAYXBpRGVzY3JpcHRpb24gUmV0dXJucyBhIHNpbmdsZSB1c2VyIG9iamVjdCB3aXRob3V0IHBhc3N3b3JkXHJcbiAgICAgKiBAYXBpUGFyYW0ge1N0cmluZ30gdXNlcm5hbWVcclxuICAgICAqIEBhcGlTdWNjZXNzIHtPYmplY3R9IHVzZXIgVXNlciBwcm9maWxlXHJcbiAgICAgKiBAYXBpRXJyb3IgKDQwMSkge1N0cmluZ30gQXV0aGVudGlmaWNhdGlvbkVycm9yIE5vdCBhbGxvd2VkIHRvIGFjY2VzcyByZXNzb3VyY2VcclxuICAgICAqL1xyXG4gICAgLmdldChbYXV0aGVudGljYXRlLCBjaGVja1Byb3BlcnR5VXNlcm5hbWUsIGZpbmRVc2VyXSwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VyOiByZXMubG9jYWxzLnVzZXIgfSlcclxuICAgIH0pXHJcbiAgICAvKipcclxuICAgICAqIEBhcGkge2RlbGV0ZX0gL3VzZXIvOnVzZXJuYW1lIERlbGV0ZSB1c2VyXHJcbiAgICAgKiBAYXBpTmFtZSB1c2VyRGVsZXRlU2luZ2xlXHJcbiAgICAgKiBAYXBpR3JvdXAgVXNlclxyXG4gICAgICogQGFwaURlc2NyaXB0aW9uIERlbGV0ZXMgYSBzaW5nbGUgdXNlclxyXG4gICAgICogQGFwaVBhcmFtIHtTdHJpbmd9IHVzZXJuYW1lXHJcbiAgICAgKiBAYXBpU3VjY2VzcyB7T2JqZWN0fSB1c2VyIFVzZXJuYW1lXHJcbiAgICAgKiBAYXBpRXJyb3IgKDQwMSkge1N0cmluZ30gQXV0aGVudGlmaWNhdGlvbkVycm9yIE5vdCBhbGxvd2VkIHRvIGFjY2VzcyByZXNzb3VyY2VcclxuICAgICAqL1xyXG4gICAgLmRlbGV0ZShbYXV0aGVudGljYXRlLCByZXF1aXJlQWRtaW4sIGNoZWNrUHJvcGVydHlVc2VybmFtZSwgZGVsZXRlVXNlcl0sIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcjogcmVzLmxvY2Fscy51c2VyIH0pXHJcbiAgICB9KVxyXG4gICAgLyoqXHJcbiAgICAgKiBAYXBpIHtwb3N0fSAvdXNlci86dXNlcm5hbWUgVXBkYXRlIHVzZXJcclxuICAgICAqIEBhcGlOYW1lIHVzZXJVcGRhdGVTaW5nbGVcclxuICAgICAqIEBhcGlHcm91cCBVc2VyXHJcbiAgICAgKiBAYXBpRGVzY3JpcHRpb24gVXBkYXRlcyBhIHNpbmdsZSB1c2VyLiBDaGFuZ2VzIGV2ZXJ5IHByb3BlcnR5IHRoYXQgaXMgc2V0IGluIHRoZSByZXF1ZXN0IGJvZHkuXHJcbiAgICAgKiBAYXBpUGFyYW0ge1N0cmluZ30gdXNlcm5hbWVcclxuICAgICAqIEBhcGlTdWNjZXNzIHtPYmplY3R9IHVzZXIgVXBkYXRlZCB1c2VyIG9iamVjdFxyXG4gICAgICogQGFwaUVycm9yICg0MDEpIHtTdHJpbmd9IEF1dGhlbnRpZmljYXRpb25FcnJvciBOb3QgYWxsb3dlZCB0byBhY2Nlc3MgcmVzc291cmNlXHJcbiAgICAgKi9cclxuICAgIC5wb3N0KFthdXRoZW50aWNhdGUsIGNoZWNrUHJvcGVydHlVc2VybmFtZSwgdXBkYXRlVXNlcl0sIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcjogcmVzLmxvY2Fscy51c2VyIH0pXHJcbiAgICB9KVxyXG5cclxucm91dGVyLnJvdXRlKCcvbG9naW4nKVxyXG4gICAgLyoqXHJcbiAgICAgKiBAYXBpIHtwb3N0fSAvdXNlci9sb2dpbiBVc2VyIGxvZ2luXHJcbiAgICAgKiBAYXBpTmFtZSB1c2VyTG9naW5cclxuICAgICAqIEBhcGlHcm91cCBVc2VyXHJcbiAgICAgKiBAYXBpRGVzY3JpcHRpb24gTG9ncyB1c2VyIGluIGFuZCByZXR1cm5zIHRoZSB1c2VyIGFuZCBBUEkgdG9rZW5cclxuICAgICAqIEBhcGlQYXJhbSB7U3RyaW5nfSB1c2VybmFtZVxyXG4gICAgICogQGFwaVBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkXHJcbiAgICAgKiBAYXBpU3VjY2VzcyB7T2JqZWN0fSB1c2VyIFVzZXIgcHJvZmlsZVxyXG4gICAgICogQGFwaVN1Y2Nlc3Mge1N0cmluZ30gdG9rZW4gQVBJIHRva2VuXHJcbiAgICAgKiBAYXBpRXJyb3IgKDQwMSkge1N0cmluZ30gTG9naW5GYWlsZWRcclxuICAgICAqL1xyXG4gICAgLnBvc3QoW2NoZWNrUHJvcGVydHlVc2VybmFtZSwgY2hlY2tQcm9wZXJ0eVBhc3N3b3JkLCBhdXRoZW50aWNhdGVVc2VyXSwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VyOiByZXMubG9jYWxzLnVzZXIsIHRva2VuOiByZXMubG9jYWxzLnRva2VuIH0pXHJcbiAgICB9KVxyXG5cclxucm91dGVyLnJvdXRlKCcvc2lnbnVwJylcclxuICAgIC8qKlxyXG4gICAgICogQGFwaSB7cG9zdH0gL3VzZXIvc2lnbnVwIFVzZXIgc2lnbnVwXHJcbiAgICAgKiBAYXBpTmFtZSB1c2VyU2lnbnVwXHJcbiAgICAgKiBAYXBpR3JvdXAgVXNlclxyXG4gICAgICogQGFwaURlc2NyaXB0aW9uIFNpZ25zIHVzZXIgdXAgYW5kIGxvZ3MgaW4gYXV0b21hdGljYWxseVxyXG4gICAgICogQGFwaVBhcmFtIHtTdHJpbmd9IHVzZXJuYW1lIFVzZXJuYW1lXHJcbiAgICAgKiBAYXBpUGFyYW0ge1N0cmluZ30gcGFzc3dvcmQgUGFzc3dvcmQgYWNjb3JkaW5nIHRvIHBvbGljeVxyXG4gICAgICogQGFwaVBhcmFtIHtTdHJpbmd9IG1haWwgVmFsaWQgZW1haWxcclxuICAgICAqIEBhcGlQYXJhbSB7U3RyaW5nfSBkaXNwbGF5TmFtZSBGdWxsIG5hbWVcclxuICAgICAqIEBhcGlTdWNjZXNzIHtPYmplY3R9IHVzZXIgVXNlciBwcm9maWxlXHJcbiAgICAgKiBAYXBpU3VjY2VzcyB7U3RyaW5nfSB0b2tlbiBBUEkgdG9rZW5cclxuICAgICAqIEBhcGlFcnJvciAoNTAwKSB7U3RyaW5nfSBJbnRlcm5hbEVycm9yIFNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBzaWdudXAuIE1vc3QgbGlrZWx5IHRvIGJlIGR1cmluZyB2YWxpZGF0aW9uLlxyXG4gICAgICogQGFwaURlcHJlY2F0ZWQgVXNlcnMgc2hvdWxkIG5vdCBiZSBhbGxvd2VkIHRvIHNpZ24gdXAgYnkgdGhlbXNlbGZlcyBidXQgcmF0aGVyIGJlIGludml0ZWQgdG8gdXNlIGRvY1N5c1xyXG4gICAgICovXHJcbiAgICAucG9zdChbY2hlY2tQcm9wZXJ0eVVzZXJuYW1lLCBjaGVja1Byb3BlcnR5TWFpbCwgY2hlY2tQcm9wZXJ0eU5hbWUsIGNoZWNrUHJvcGVydHlQYXNzd29yZCwgYWRkVXNlciwgYXV0aGVudGljYXRlVXNlcl0sIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcjogcmVzLmxvY2Fscy51c2VyLCB0b2tlbjogcmVzLmxvY2Fscy50b2tlbiB9KVxyXG4gICAgfSlcclxuXHJcbnJvdXRlci5yb3V0ZSgnL3VubG9jay86dXNlcm5hbWUnKVxyXG4gICAgLyoqXHJcbiAgICAgICAgICogQGFwaSB7cG9zdH0gL3VzZXIvdW5sb2NrLzp1c2VybmFtZSBVbmxvY2sgbG9ja2VkIHVzZXJcclxuICAgICAgICAgKiBAYXBpTmFtZSB1c2VyVW5sb2NrXHJcbiAgICAgICAgICogQGFwaUdyb3VwIFVzZXJcclxuICAgICAgICAgKiBAYXBpRGVzY3JpcHRpb24gVW5sb2NrcyB1c2VyIGFuZCBzZXRzIGxvZ2luIGF0dGVtcHRzIHRvIDBcclxuICAgICAgICAgKiBAYXBpUGFyYW0ge1N0cmluZ30gdXNlcm5hbWUgVXNlcm5hbWVcclxuICAgICAgICAgKiBAYXBpU3VjY2VzcyB7T2JqZWN0fSB1c2VyIFVzZXIgcHJvZmlsZVxyXG4gICAgICAgICAqIEBhcGlFcnJvciAoNDAxKSB7U3RyaW5nfSBBdXRoZW50aWZpY2F0aW9uRXJyb3IgTm90IGFsbG93ZWQgdG8gYWNjZXNzIHJlc3NvdXJjZVxyXG4gICAgICAgICAqL1xyXG4gICAgLnBvc3QoW2F1dGhlbnRpY2F0ZSwgcmVxdWlyZUFkbWluLCBjaGVja1Byb3BlcnR5VXNlcm5hbWUsIHVubG9ja1VzZXJdLCAocmVxLCByZXMpID0+IHtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXI6IHJlcy5sb2NhbHMudXNlciB9KVxyXG4gICAgfSlcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyIl19