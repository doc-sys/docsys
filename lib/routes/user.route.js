"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.router = void 0;

var _user = require("../controller/user.controller");

var express = require('express'); //import { Router } from 'express'


var router = express.Router();
exports.router = router;
router.route('/').get([_user.checkPropertyUsername, _user.findUser], function (req, res) {
  res.status(200).json({
    user: res.locals.user
  });
});
router.route('/login').post([_user.checkPropertyUsername, _user.checkPropertyPassword, _user.authenticateUser], function (req, res) {
  res.status(200).json({
    user: res.locals.user,
    token: res.locals.token
  });
});
router.route('/signup').post([_user.checkPropertyUsername, _user.checkPropertyMail, _user.checkPropertyName, _user.checkPropertyPassword, _user.addUser, _user.authenticateUser], function (req, res) {
  res.status(200).json({
    user: res.locals.user,
    token: res.locals.token
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yb3V0ZXMvdXNlci5yb3V0ZS50cyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInJvdXRlIiwiZ2V0IiwiY2hlY2tQcm9wZXJ0eVVzZXJuYW1lIiwiZmluZFVzZXIiLCJyZXEiLCJyZXMiLCJzdGF0dXMiLCJqc29uIiwidXNlciIsImxvY2FscyIsInBvc3QiLCJjaGVja1Byb3BlcnR5UGFzc3dvcmQiLCJhdXRoZW50aWNhdGVVc2VyIiwidG9rZW4iLCJjaGVja1Byb3BlcnR5TWFpbCIsImNoZWNrUHJvcGVydHlOYW1lIiwiYWRkVXNlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBOztBQUZBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBckIsQyxDQUNBOzs7QUFHQSxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFiOztBQUVBRCxNQUFNLENBQUNFLEtBQVAsQ0FBYSxHQUFiLEVBQWtCQyxHQUFsQixDQUFzQixDQUFDQywyQkFBRCxFQUF3QkMsY0FBeEIsQ0FBdEIsRUFBeUQsVUFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDbkVBLEVBQUFBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLElBQUFBLElBQUksRUFBRUgsR0FBRyxDQUFDSSxNQUFKLENBQVdEO0FBQW5CLEdBQXJCO0FBQ0gsQ0FGRDtBQUtBVixNQUFNLENBQUNFLEtBQVAsQ0FBYSxRQUFiLEVBQXVCVSxJQUF2QixDQUE0QixDQUFDUiwyQkFBRCxFQUF3QlMsMkJBQXhCLEVBQStDQyxzQkFBL0MsQ0FBNUIsRUFBOEYsVUFBQ1IsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDeEdBLEVBQUFBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLElBQUFBLElBQUksRUFBRUgsR0FBRyxDQUFDSSxNQUFKLENBQVdELElBQW5CO0FBQXlCSyxJQUFBQSxLQUFLLEVBQUVSLEdBQUcsQ0FBQ0ksTUFBSixDQUFXSTtBQUEzQyxHQUFyQjtBQUNILENBRkQ7QUFJQWYsTUFBTSxDQUFDRSxLQUFQLENBQWEsU0FBYixFQUF3QlUsSUFBeEIsQ0FBNkIsQ0FBQ1IsMkJBQUQsRUFBd0JZLHVCQUF4QixFQUEyQ0MsdUJBQTNDLEVBQThESiwyQkFBOUQsRUFBcUZLLGFBQXJGLEVBQThGSixzQkFBOUYsQ0FBN0IsRUFBOEksVUFBQ1IsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDeEpBLEVBQUFBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLElBQUFBLElBQUksRUFBRUgsR0FBRyxDQUFDSSxNQUFKLENBQVdELElBQW5CO0FBQXlCSyxJQUFBQSxLQUFLLEVBQUVSLEdBQUcsQ0FBQ0ksTUFBSixDQUFXSTtBQUEzQyxHQUFyQjtBQUNILENBRkQiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKVxyXG4vL2ltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCB7IGNoZWNrUHJvcGVydHlNYWlsLCBjaGVja1Byb3BlcnR5TmFtZSwgY2hlY2tQcm9wZXJ0eVBhc3N3b3JkLCBjaGVja1Byb3BlcnR5VXNlcm5hbWUsIGF1dGhlbnRpY2F0ZVVzZXIsIGFkZFVzZXIsIGZpbmRVc2VyIH0gZnJvbSAnLi4vY29udHJvbGxlci91c2VyLmNvbnRyb2xsZXInO1xyXG5cclxubGV0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcclxuXHJcbnJvdXRlci5yb3V0ZSgnLycpLmdldChbY2hlY2tQcm9wZXJ0eVVzZXJuYW1lLCBmaW5kVXNlcl0sIChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VyOiByZXMubG9jYWxzLnVzZXIgfSlcclxufSlcclxuXHJcblxyXG5yb3V0ZXIucm91dGUoJy9sb2dpbicpLnBvc3QoW2NoZWNrUHJvcGVydHlVc2VybmFtZSwgY2hlY2tQcm9wZXJ0eVBhc3N3b3JkLCBhdXRoZW50aWNhdGVVc2VyXSwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXI6IHJlcy5sb2NhbHMudXNlciwgdG9rZW46IHJlcy5sb2NhbHMudG9rZW4gfSlcclxufSlcclxuXHJcbnJvdXRlci5yb3V0ZSgnL3NpZ251cCcpLnBvc3QoW2NoZWNrUHJvcGVydHlVc2VybmFtZSwgY2hlY2tQcm9wZXJ0eU1haWwsIGNoZWNrUHJvcGVydHlOYW1lLCBjaGVja1Byb3BlcnR5UGFzc3dvcmQsIGFkZFVzZXIsIGF1dGhlbnRpY2F0ZVVzZXJdLCAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcjogcmVzLmxvY2Fscy51c2VyLCB0b2tlbjogcmVzLmxvY2Fscy50b2tlbiB9KVxyXG59KVxyXG5cclxuZXhwb3J0IHsgcm91dGVyIH0iXX0=