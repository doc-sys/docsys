"use strict";

var mongoose = require('mongoose');

var document = new mongoose.Schema({
  title: {
    type: String,
    required: true
  },
  created: {
    type: Date,
    "default": Date.now()
  },
  dated: {
    type: Date
  },
  content: {
    type: String
  },
  keywords: {
    type: [String],
    minlength: 3
  },
  fileId: {
    type: String,
    unique: true
  },
  owner: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User',
    required: false
  },
  sharedWith: [{
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User',
    "default": []
  }],
  lockedBy: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User',
    "default": null
  },
  locked: {
    type: Boolean,
    "default": false
  },
  mime: {
    type: String
  },
  extension: {
    type: String
  },
  pageHashes: {
    type: [String],
    required: true
  },
  log: [{
    timestamp: {
      type: Date,
      "default": Date.now()
    },
    user: {
      type: mongoose.Schema.Types.ObjectId,
      ref: 'User',
      required: true
    },
    message: {
      type: String,
      required: true
    }
  }]
});
module.exports = mongoose.model('Doc', document);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tb2RlbHMvZG9jdW1lbnQuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiZG9jdW1lbnQiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImNyZWF0ZWQiLCJEYXRlIiwibm93IiwiZGF0ZWQiLCJjb250ZW50Iiwia2V5d29yZHMiLCJtaW5sZW5ndGgiLCJmaWxlSWQiLCJ1bmlxdWUiLCJvd25lciIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJzaGFyZWRXaXRoIiwibG9ja2VkQnkiLCJsb2NrZWQiLCJCb29sZWFuIiwibWltZSIsImV4dGVuc2lvbiIsInBhZ2VIYXNoZXMiLCJsb2ciLCJ0aW1lc3RhbXAiLCJ1c2VyIiwibWVzc2FnZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUVBLElBQUlDLFFBQVEsR0FBRyxJQUFJRixRQUFRLENBQUNHLE1BQWIsQ0FBb0I7QUFDbENDLEVBQUFBLEtBQUssRUFBRTtBQUNOQyxJQUFBQSxJQUFJLEVBQUVDLE1BREE7QUFFTkMsSUFBQUEsUUFBUSxFQUFFO0FBRkosR0FEMkI7QUFLbENDLEVBQUFBLE9BQU8sRUFBRTtBQUNSSCxJQUFBQSxJQUFJLEVBQUVJLElBREU7QUFFUixlQUFTQSxJQUFJLENBQUNDLEdBQUw7QUFGRCxHQUx5QjtBQVNsQ0MsRUFBQUEsS0FBSyxFQUFFO0FBQ05OLElBQUFBLElBQUksRUFBRUk7QUFEQSxHQVQyQjtBQVlsQ0csRUFBQUEsT0FBTyxFQUFFO0FBQ1JQLElBQUFBLElBQUksRUFBRUM7QUFERSxHQVp5QjtBQWVsQ08sRUFBQUEsUUFBUSxFQUFFO0FBQ1RSLElBQUFBLElBQUksRUFBRSxDQUFDQyxNQUFELENBREc7QUFFVFEsSUFBQUEsU0FBUyxFQUFFO0FBRkYsR0Fmd0I7QUFtQmxDQyxFQUFBQSxNQUFNLEVBQUU7QUFDUFYsSUFBQUEsSUFBSSxFQUFFQyxNQURDO0FBRVBVLElBQUFBLE1BQU0sRUFBRTtBQUZELEdBbkIwQjtBQXVCbENDLEVBQUFBLEtBQUssRUFBRTtBQUNOWixJQUFBQSxJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBVCxDQUFnQmUsS0FBaEIsQ0FBc0JDLFFBRHRCO0FBRU5DLElBQUFBLEdBQUcsRUFBRSxNQUZDO0FBR05iLElBQUFBLFFBQVEsRUFBRTtBQUhKLEdBdkIyQjtBQTRCbENjLEVBQUFBLFVBQVUsRUFBRSxDQUNYO0FBQ0NoQixJQUFBQSxJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBVCxDQUFnQmUsS0FBaEIsQ0FBc0JDLFFBRDdCO0FBRUNDLElBQUFBLEdBQUcsRUFBRSxNQUZOO0FBR0MsZUFBUztBQUhWLEdBRFcsQ0E1QnNCO0FBbUNsQ0UsRUFBQUEsUUFBUSxFQUFFO0FBQ1RqQixJQUFBQSxJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBVCxDQUFnQmUsS0FBaEIsQ0FBc0JDLFFBRG5CO0FBRVRDLElBQUFBLEdBQUcsRUFBRSxNQUZJO0FBR1QsZUFBUztBQUhBLEdBbkN3QjtBQXdDbENHLEVBQUFBLE1BQU0sRUFBRTtBQUNQbEIsSUFBQUEsSUFBSSxFQUFFbUIsT0FEQztBQUVQLGVBQVM7QUFGRixHQXhDMEI7QUE0Q2xDQyxFQUFBQSxJQUFJLEVBQUU7QUFDTHBCLElBQUFBLElBQUksRUFBRUM7QUFERCxHQTVDNEI7QUErQ2xDb0IsRUFBQUEsU0FBUyxFQUFFO0FBQ1ZyQixJQUFBQSxJQUFJLEVBQUVDO0FBREksR0EvQ3VCO0FBa0RsQ3FCLEVBQUFBLFVBQVUsRUFBRTtBQUNYdEIsSUFBQUEsSUFBSSxFQUFFLENBQUNDLE1BQUQsQ0FESztBQUVYQyxJQUFBQSxRQUFRLEVBQUU7QUFGQyxHQWxEc0I7QUFzRGxDcUIsRUFBQUEsR0FBRyxFQUFFLENBQ0o7QUFDQ0MsSUFBQUEsU0FBUyxFQUFFO0FBQ1Z4QixNQUFBQSxJQUFJLEVBQUVJLElBREk7QUFFVixpQkFBU0EsSUFBSSxDQUFDQyxHQUFMO0FBRkMsS0FEWjtBQUtDb0IsSUFBQUEsSUFBSSxFQUFFO0FBQ0x6QixNQUFBQSxJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBVCxDQUFnQmUsS0FBaEIsQ0FBc0JDLFFBRHZCO0FBRUxDLE1BQUFBLEdBQUcsRUFBRSxNQUZBO0FBR0xiLE1BQUFBLFFBQVEsRUFBRTtBQUhMLEtBTFA7QUFVQ3dCLElBQUFBLE9BQU8sRUFBRTtBQUNSMUIsTUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLE1BQUFBLFFBQVEsRUFBRTtBQUZGO0FBVlYsR0FESTtBQXRENkIsQ0FBcEIsQ0FBZjtBQXlFQXlCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmpDLFFBQVEsQ0FBQ2tDLEtBQVQsQ0FBZSxLQUFmLEVBQXNCaEMsUUFBdEIsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXHJcblxyXG5sZXQgZG9jdW1lbnQgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuXHR0aXRsZToge1xyXG5cdFx0dHlwZTogU3RyaW5nLFxyXG5cdFx0cmVxdWlyZWQ6IHRydWUsXHJcblx0fSxcclxuXHRjcmVhdGVkOiB7XHJcblx0XHR0eXBlOiBEYXRlLFxyXG5cdFx0ZGVmYXVsdDogRGF0ZS5ub3coKSxcclxuXHR9LFxyXG5cdGRhdGVkOiB7XHJcblx0XHR0eXBlOiBEYXRlLFxyXG5cdH0sXHJcblx0Y29udGVudDoge1xyXG5cdFx0dHlwZTogU3RyaW5nLFxyXG5cdH0sXHJcblx0a2V5d29yZHM6IHtcclxuXHRcdHR5cGU6IFtTdHJpbmddLFxyXG5cdFx0bWlubGVuZ3RoOiAzLFxyXG5cdH0sXHJcblx0ZmlsZUlkOiB7XHJcblx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHR1bmlxdWU6IHRydWUsXHJcblx0fSxcclxuXHRvd25lcjoge1xyXG5cdFx0dHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG5cdFx0cmVmOiAnVXNlcicsXHJcblx0XHRyZXF1aXJlZDogZmFsc2UsXHJcblx0fSxcclxuXHRzaGFyZWRXaXRoOiBbXHJcblx0XHR7XHJcblx0XHRcdHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuXHRcdFx0cmVmOiAnVXNlcicsXHJcblx0XHRcdGRlZmF1bHQ6IFtdLFxyXG5cdFx0fSxcclxuXHRdLFxyXG5cdGxvY2tlZEJ5OiB7XHJcblx0XHR0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcblx0XHRyZWY6ICdVc2VyJyxcclxuXHRcdGRlZmF1bHQ6IG51bGwsXHJcblx0fSxcclxuXHRsb2NrZWQ6IHtcclxuXHRcdHR5cGU6IEJvb2xlYW4sXHJcblx0XHRkZWZhdWx0OiBmYWxzZSxcclxuXHR9LFxyXG5cdG1pbWU6IHtcclxuXHRcdHR5cGU6IFN0cmluZyxcclxuXHR9LFxyXG5cdGV4dGVuc2lvbjoge1xyXG5cdFx0dHlwZTogU3RyaW5nLFxyXG5cdH0sXHJcblx0cGFnZUhhc2hlczoge1xyXG5cdFx0dHlwZTogW1N0cmluZ10sXHJcblx0XHRyZXF1aXJlZDogdHJ1ZSxcclxuXHR9LFxyXG5cdGxvZzogW1xyXG5cdFx0e1xyXG5cdFx0XHR0aW1lc3RhbXA6IHtcclxuXHRcdFx0XHR0eXBlOiBEYXRlLFxyXG5cdFx0XHRcdGRlZmF1bHQ6IERhdGUubm93KCksXHJcblx0XHRcdH0sXHJcblx0XHRcdHVzZXI6IHtcclxuXHRcdFx0XHR0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcblx0XHRcdFx0cmVmOiAnVXNlcicsXHJcblx0XHRcdFx0cmVxdWlyZWQ6IHRydWUsXHJcblx0XHRcdH0sXHJcblx0XHRcdG1lc3NhZ2U6IHtcclxuXHRcdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdFx0cmVxdWlyZWQ6IHRydWUsXHJcblx0XHRcdH0sXHJcblx0XHR9LFxyXG5cdF0sXHJcbn0pXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdEb2MnLCBkb2N1bWVudClcclxuIl19